<mxfile host="app.diagrams.net" modified="2026-01-21T04:18:00.000Z" agent="Mozilla/5.0" version="21.0.0" type="device">
  <diagram name="Architecture-FilmDirectorDetailPage" id="arch-detail">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title1" value="Hình 3.52. Sơ đồ kiến trúc tổng thể phân hệ FilmDirectorDetailPage" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="280" y="15" width="450" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="user1" value="" style="shape=actor;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="50" y="200" width="40" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="userLbl" value="User/Guest" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="30" y="265" width="80" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="feBox" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1f5fe;strokeColor=#01579b;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="140" y="70" width="320" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="feLbl" value="FRONTEND (ReactJS)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#01579b;" parent="1" vertex="1">
          <mxGeometry x="200" y="75" width="200" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="comp1" value="FilmDirectorDetailPage.jsx&#xa;&#xa;- director{}&#xa;- sidebarMovies[]&#xa;- loading, isLiked&#xa;- openGallery&#xa;- currentImageIndex&#xa;- isAutoPlay&#xa;- viewIncrementedRef&#xa;- fetchSeqRef" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;verticalAlign=top;spacingLeft=8;spacingTop=5;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="110" width="160" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="state1" value="State &amp; Hooks&#xa;useState, useEffect&#xa;useRef, useParams" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="340" y="110" width="100" height="55" as="geometry"/>
        </mxCell>

        <mxCell id="storage1" value="localStorage&#xa;director_view_{id}&#xa;director_liked_{id}" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#f8cecc;strokeColor=#b85450;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="340" y="180" width="100" height="65" as="geometry"/>
        </mxCell>

        <mxCell id="api1" value="personApi.js&#xa;&#xa;getPersonBySlugAPI()&#xa;incrementPersonViewAPI()&#xa;togglePersonLikeAPI()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;verticalAlign=top;spacingLeft=5;spacingTop=5;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="160" y="280" width="130" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="api2" value="movieApi.js&#xa;&#xa;getNowShowingMoviesAPI()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;verticalAlign=top;spacingLeft=5;spacingTop=5;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="310" y="280" width="130" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="beBox" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#2e7d32;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="70" width="200" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="beLbl" value="BACKEND (Node.js)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#2e7d32;" parent="1" vertex="1">
          <mxGeometry x="530" y="75" width="140" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="router1" value="personRouter.js&#xa;&#xa;GET /:slug&#xa;POST /:id/view&#xa;POST /:id/like" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;align=left;verticalAlign=top;spacingLeft=5;spacingTop=5;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="530" y="110" width="140" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="ctrl1" value="personController.js&#xa;&#xa;getPersonBySlug()&#xa;incrementPersonView()&#xa;togglePersonLike()" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#c8e6c9;strokeColor=#2e7d32;align=left;verticalAlign=top;spacingLeft=5;spacingTop=5;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="530" y="210" width="140" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="dbBox" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#c2185b;strokeWidth=2;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="740" y="70" width="180" height="350" as="geometry"/>
        </mxCell>
        <mxCell id="dbLbl" value="DATABASE (MongoDB)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12;fontStyle=1;fontColor=#c2185b;" parent="1" vertex="1">
          <mxGeometry x="760" y="75" width="140" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="coll1" value="persons&#xa;&#xa;_id, name, slug&#xa;role, avatar&#xa;shortBio, fullBio&#xa;birthDate, height&#xa;nationality&#xa;gallery[], filmography[]&#xa;viewCount, likeCount" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8bbd9;strokeColor=#c2185b;align=left;verticalAlign=top;spacingLeft=10;spacingTop=20;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="770" y="110" width="130" height="140" as="geometry"/>
        </mxCell>

        <mxCell id="coll2" value="movies&#xa;&#xa;_id, title, slug&#xa;poster, rating" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8bbd9;strokeColor=#c2185b;align=left;verticalAlign=top;spacingLeft=10;spacingTop=20;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="770" y="270" width="130" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="arr1" style="edgeStyle=none;rounded=0;html=1;endArrow=classic;startArrow=classic;strokeColor=#1976d2;strokeWidth=2;" parent="1" source="user1" target="comp1" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="arr1Lbl" value="HTTP" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="100" y="175" width="40" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="arr2" style="edgeStyle=none;rounded=0;html=1;endArrow=classic;startArrow=classic;strokeColor=#2e7d32;strokeWidth=2;dashed=1;" parent="1" source="api1" target="router1" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="arr2Lbl" value="REST API&#xa;(Axios)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="445" y="195" width="55" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="arr3" style="edgeStyle=none;rounded=0;html=1;endArrow=classic;strokeColor=#000000;" parent="1" source="router1" target="ctrl1" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="arr4" style="edgeStyle=none;rounded=0;html=1;endArrow=classic;startArrow=classic;strokeColor=#c2185b;strokeWidth=2;dashed=1;" parent="1" source="ctrl1" target="coll1" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="arr4Lbl" value="Mongoose" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=9;" parent="1" vertex="1">
          <mxGeometry x="700" y="215" width="55" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fafafa;strokeColor=#999999;" parent="1" vertex="1">
          <mxGeometry x="140" y="440" width="300" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="legTitle" value="Chú thích:" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=10;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="150" y="445" width="60" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="leg1" value="─── HTTP" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontColor=#1976d2;" parent="1" vertex="1">
          <mxGeometry x="150" y="465" width="60" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg2" value="─── REST API" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontColor=#2e7d32;" parent="1" vertex="1">
          <mxGeometry x="220" y="465" width="80" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg3" value="─── Mongoose" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=9;fontColor=#c2185b;" parent="1" vertex="1">
          <mxGeometry x="320" y="465" width="80" height="15" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
