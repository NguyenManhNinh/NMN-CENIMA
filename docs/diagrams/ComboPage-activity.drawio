<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-01-06T02:50:00.000Z" agent="Mozilla/5.0" version="21.0.0" type="device">
  <diagram name="ComboActivity" id="combo-activity">
    <mxGraphModel dx="1000" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Start -->
        <mxCell id="start" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="380" y="40" width="30" height="30" as="geometry" />
        </mxCell>

        <!-- Access Page -->
        <mxCell id="act1" value="Vào /chon-combo&#xa;(nhận selectedSeats, showtimeId)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="295" y="100" width="200" height="40" as="geometry" />
        </mxCell>

        <!-- Fetch Data -->
        <mxCell id="act2" value="GET /combos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="335" y="170" width="120" height="40" as="geometry" />
        </mxCell>

        <!-- Display List -->
        <mxCell id="act3" value="Hiển thị danh sách combo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="315" y="240" width="160" height="40" as="geometry" />
        </mxCell>

        <!-- Loop User Action -->
        <mxCell id="dec_loop" value="User&#xa;thao tác?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="345" y="320" width="100" height="50" as="geometry" />
        </mxCell>

        <!-- Split Action -->
        <mxCell id="split_act" value="" style="shape=line;html=1;strokeWidth=4;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="400" width="300" height="10" as="geometry" />
        </mxCell>

        <!-- Action: +/- Quantity -->
        <mxCell id="dec_qty" value="Bấm + / - ?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="240" y="430" width="110" height="50" as="geometry" />
        </mxCell>

        <mxCell id="act_update_qty" value="Cập nhật quantity" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="235" y="510" width="120" height="30" as="geometry" />
        </mxCell>

        <mxCell id="act_calc_price" value="Tính tổng tiền realtime" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="230" y="560" width="130" height="30" as="geometry" />
        </mxCell>

        <!-- Action: Continue -->
        <mxCell id="dec_cont" value="Bấm&#xa;&quot;Tiếp tục&quot;?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="440" y="430" width="110" height="50" as="geometry" />
        </mxCell>

        <mxCell id="act_nav" value="Navigate&#xa;/xac-nhan-thanh-toan&#xa;(kèm seats + combos)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="420" y="510" width="150" height="50" as="geometry" />
        </mxCell>

        <!-- Stop -->
        <mxCell id="stop" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#1a1a2e;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="485" y="600" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="stop_border" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=none;strokeColor=#1a1a2e;" vertex="1" parent="1">
          <mxGeometry x="482" y="597" width="26" height="26" as="geometry" />
        </mxCell>

        <!-- Connectors -->
        <mxCell id="c1" edge="1" parent="1" source="start" target="act1"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="c2" edge="1" parent="1" source="act1" target="act2"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="c3" edge="1" parent="1" source="act2" target="act3"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="c4" edge="1" parent="1" source="act3" target="dec_loop"><mxGeometry relative="1" as="geometry"/></mxCell>

        <!-- Loop Yes -->
        <mxCell id="c5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;html=1;" edge="1" parent="1" source="dec_loop" target="split_act"><mxGeometry relative="1" as="geometry"/></mxCell>

        <!-- Split to Decisions -->
        <mxCell id="c6" edge="1" parent="1" source="split_act" target="dec_qty"><mxGeometry relative="1" as="geometry"><mxPoint x="295" y="410" as="sourcePoint"/></mxGeometry></mxCell>
        <mxCell id="c7" edge="1" parent="1" source="split_act" target="dec_cont"><mxGeometry relative="1" as="geometry"><mxPoint x="495" y="410" as="sourcePoint"/></mxGeometry></mxCell>

        <!-- Qty Logic -->
        <mxCell id="c8" value="Có" edge="1" parent="1" source="dec_qty" target="act_update_qty"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="c9" edge="1" parent="1" source="act_update_qty" target="act_calc_price"><mxGeometry relative="1" as="geometry"/></mxCell>

        <!-- Loop Back -->
        <mxCell id="c10" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="act_calc_price" target="dec_loop">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="575" />
              <mxPoint x="180" y="345" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Continue Logic -->
        <mxCell id="c11" value="Có" edge="1" parent="1" source="dec_cont" target="act_nav"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="c12" edge="1" parent="1" source="act_nav" target="stop"><mxGeometry relative="1" as="geometry"/></mxCell>

        <!-- Loop No (Exit) -->
        <mxCell id="c13" value="No" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="dec_loop" target="stop">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="345" />
              <mxPoint x="600" y="610" />
            </Array>
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
