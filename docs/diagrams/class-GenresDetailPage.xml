<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-01-13T07:45:04.000Z" agent="Mozilla/5.0" version="22.1.0" type="device">
  <diagram name="Class Diagram - GenresDetailPage" id="class-genres-detail">
    <mxGraphModel dx="1434" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1300" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="&lt;b&gt;CLASS DIAGRAM RÚT GỌN - PHÂN HỆ GENRESDETAILPAGE&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="400" y="10" width="450" height="30" as="geometry" />
        </mxCell>

        <!-- ==================== FRONTEND LAYER ==================== -->
        <mxCell id="frontend-layer" value="&lt;b&gt;FRONTEND LAYER (ReactJS)&lt;/b&gt;" style="swimlane;horizontal=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;startSize=25;" vertex="1" parent="1">
          <mxGeometry x="40" y="50" width="520" height="380" as="geometry" />
        </mxCell>

        <!-- GenresDetailPage Component -->
        <mxCell id="detail-page-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;GenresDetailPage&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;React Component&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:11px;&#39;&gt;&lt;b&gt;State:&lt;/b&gt;&lt;br&gt;- genre: Genre | null&lt;br&gt;- loading: boolean&lt;br&gt;- otherMovies: Movie[]&lt;br&gt;- openTrailerModal: boolean&lt;br&gt;- openGallery: boolean&lt;br&gt;- currentImageIndex: number&lt;br&gt;- openRatingModal: boolean&lt;br&gt;- userRating: number&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:11px;&#39;&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ fetchData(): Promise&amp;lt;void&amp;gt;&lt;br&gt;+ handleOpenGallery(index): void&lt;br&gt;+ handleNextImage(): void&lt;br&gt;+ handlePrevImage(): void&lt;br&gt;+ handleBuyTicket(): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="frontend-layer">
          <mxGeometry x="20" y="40" width="210" height="280" as="geometry" />
        </mxCell>

        <!-- genreApi.js -->
        <mxCell id="genre-api-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;genreApi.js&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;API Client&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:11px;&#39;&gt;&lt;b&gt;Functions:&lt;/b&gt;&lt;br&gt;+ getGenreBySlugAPI(slug): Promise&lt;br&gt;+ incrementViewAPI(id): Promise&lt;br&gt;+ toggleGenreLikeAPI(id): Promise&lt;br&gt;+ getLikeStatusAPI(id): Promise&lt;br&gt;+ rateGenreAPI(id, rating): Promise&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="frontend-layer">
          <mxGeometry x="260" y="40" width="190" height="145" as="geometry" />
        </mxCell>

        <!-- CommentSection Component -->
        <mxCell id="comment-section-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;CommentSection&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;React Component&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:11px;&#39;&gt;&lt;b&gt;Props:&lt;/b&gt;&lt;br&gt;- genreId: ObjectId&lt;br&gt;- user: User | null&lt;br&gt;&lt;br&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ fetchData(page, summary)&lt;br&gt;+ handleSubmitReview()&lt;br&gt;+ handlePageChange(page)&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="frontend-layer">
          <mxGeometry x="260" y="200" width="180" height="150" as="geometry" />
        </mxCell>

        <!-- TrailerModal -->
        <mxCell id="trailer-modal-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;TrailerModal&lt;/b&gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;font-size:10px;&#39;&gt;Props: open, url, onClose&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="frontend-layer">
          <mxGeometry x="460" y="40" width="50" height="55" as="geometry" />
        </mxCell>

        <!-- ==================== BACKEND LAYER ==================== -->
        <mxCell id="backend-layer" value="&lt;b&gt;BACKEND LAYER (Node.js/Express)&lt;/b&gt;" style="swimlane;horizontal=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;startSize=25;" vertex="1" parent="1">
          <mxGeometry x="590" y="50" width="460" height="380" as="geometry" />
        </mxCell>

        <!-- GenreController -->
        <mxCell id="genre-controller-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;genreController&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Controller&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getGenres(req, res)&lt;br&gt;+ getGenreBySlug(req, res)&lt;br&gt;+ getMoviesByGenre(req, res)&lt;br&gt;+ createGenre(req, res)&lt;br&gt;+ updateGenre(req, res)&lt;br&gt;+ deleteGenre(req, res)&lt;br&gt;+ getCategories(req, res)&lt;br&gt;+ getCountries(req, res)&lt;br&gt;+ getYears(req, res)&lt;br&gt;+ toggleLike(req, res)&lt;br&gt;+ getLikeStatus(req, res)&lt;br&gt;+ rateGenre(req, res)&lt;br&gt;+ incrementView(req, res)&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="backend-layer">
          <mxGeometry x="20" y="40" width="175" height="210" as="geometry" />
        </mxCell>

        <!-- Review Controller -->
        <mxCell id="review-controller-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;reviewController&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Controller&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getReviewsByGenre(req, res)&lt;br&gt;+ createGenreReview(req, res)&lt;br&gt;+ getGenreReviewSummary()&lt;br&gt;+ likeReview(req, res)&lt;br&gt;+ replyToReview(req, res)&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="backend-layer">
          <mxGeometry x="20" y="265" width="175" height="105" as="geometry" />
        </mxCell>

        <!-- Genre Model -->
        <mxCell id="genre-model-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;Genre&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Mongoose Model&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Static Methods:&lt;/b&gt;&lt;br&gt;+ findOne(query)&lt;br&gt;+ findByIdAndUpdate()&lt;br&gt;+ distinct(field)&lt;br&gt;+ aggregate()&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="backend-layer">
          <mxGeometry x="230" y="40" width="150" height="115" as="geometry" />
        </mxCell>

        <!-- Review Model -->
        <mxCell id="review-model-class" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;Review&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Mongoose Model&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Static Methods:&lt;/b&gt;&lt;br&gt;+ find(query)&lt;br&gt;+ create(data)&lt;br&gt;+ aggregate()&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="backend-layer">
          <mxGeometry x="230" y="175" width="140" height="100" as="geometry" />
        </mxCell>

        <!-- ==================== ENTITY LAYER ==================== -->
        <mxCell id="entity-layer" value="&lt;b&gt;ENTITY / DATA MODEL (MongoDB)&lt;/b&gt;" style="swimlane;horizontal=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;startSize=25;" vertex="1" parent="1">
          <mxGeometry x="40" y="450" width="1010" height="300" as="geometry" />
        </mxCell>

        <!-- Genre Entity -->
        <mxCell id="genre-entity" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;Genre&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Entity&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Attributes:&lt;/b&gt;&lt;br&gt;- _id: ObjectId &amp;lt;PK&amp;gt;&lt;br&gt;- name: String (required, unique)&lt;br&gt;- slug: String (unique)&lt;br&gt;- nameEn: String&lt;br&gt;- description: String&lt;br&gt;- imageUrl: String (thumbnail)&lt;br&gt;- bannerUrl: String&lt;br&gt;- category: String (required)&lt;br&gt;- country: String&lt;br&gt;- year: Number&lt;br&gt;- status: enum[NOW, COMING, ARCHIVE]&lt;br&gt;- viewCount: Number&lt;br&gt;- likeCount: Number&lt;br&gt;- likedBy: [ObjectId] → User&lt;br&gt;- rating: Number (0-10)&lt;br&gt;- ratingCount: Number&lt;br&gt;- ratedBy: [{user, rating, createdAt}]&lt;br&gt;- duration: Number (phút)&lt;br&gt;- releaseDate: Date&lt;br&gt;- ageRating: enum[P, C13, C16, C18]&lt;br&gt;- director: String&lt;br&gt;- actors: [{name, photoUrl}]&lt;br&gt;- trailerUrl: String&lt;br&gt;- stills: [String] (gallery)&lt;br&gt;- isActive: Boolean&lt;br&gt;- createdAt, updatedAt: Date&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="entity-layer">
          <mxGeometry x="20" y="35" width="230" height="255" as="geometry" />
        </mxCell>

        <!-- Review Entity -->
        <mxCell id="review-entity" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;Review&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Entity&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Attributes:&lt;/b&gt;&lt;br&gt;- _id: ObjectId &amp;lt;PK&amp;gt;&lt;br&gt;- genreId: ObjectId → Genre&lt;br&gt;- movieId: ObjectId → Movie&lt;br&gt;- userId: ObjectId → User&lt;br&gt;- parentId: ObjectId → Review&lt;br&gt;- rating: Number (1-5)&lt;br&gt;- title: String&lt;br&gt;- content: String&lt;br&gt;- hasSpoiler: Boolean&lt;br&gt;- reactions: [{userId, type}]&lt;br&gt;- likesCount: Number&lt;br&gt;- isHidden: Boolean&lt;br&gt;- reportCount: Number&lt;br&gt;- createdAt, updatedAt: Date&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="entity-layer">
          <mxGeometry x="280" y="35" width="200" height="220" as="geometry" />
        </mxCell>

        <!-- User Entity (partial) -->
        <mxCell id="user-entity" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;User&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Entity - partial&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;Attributes:&lt;/b&gt;&lt;br&gt;- _id: ObjectId &amp;lt;PK&amp;gt;&lt;br&gt;- name: String&lt;br&gt;- email: String&lt;br&gt;- avatar: String&lt;br&gt;- chatBanUntil: Date&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="entity-layer">
          <mxGeometry x="510" y="35" width="160" height="125" as="geometry" />
        </mxCell>

        <!-- Movie Entity (partial) -->
        <mxCell id="movie-entity" value="&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;&#39;&gt;&lt;b&gt;Movie&lt;/b&gt;&lt;/p&gt;&lt;p style=&#39;margin:0px;margin-top:4px;text-align:center;font-size:10px;color:#666;&#39;&gt;&amp;lt;&amp;lt;Entity - partial&amp;gt;&amp;gt;&lt;/p&gt;&lt;hr size=&#39;1&#39;&gt;&lt;p style=&#39;margin:0px;margin-left:4px;font-size:10px;&#39;&gt;&lt;b&gt;(Sidebar phim liên quan)&lt;/b&gt;&lt;br&gt;- _id: ObjectId&lt;br&gt;- title: String&lt;br&gt;- poster: String&lt;br&gt;- status: String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;rounded=0;shadow=0;comic=0;labelBackgroundColor=none;strokeWidth=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="entity-layer">
          <mxGeometry x="510" y="175" width="160" height="105" as="geometry" />
        </mxCell>

        <!-- ==================== RELATIONSHIPS ==================== -->
        <!-- GenresDetailPage depends on genreApi -->
        <mxCell id="rel1" value="&amp;lt;&amp;lt;uses&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.2;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="detail-page-class" target="genre-api-class">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="270" y="150" as="sourcePoint" />
            <mxPoint x="300" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- GenresDetailPage composes CommentSection -->
        <mxCell id="rel2" value="&amp;lt;&amp;lt;composes&amp;gt;&amp;gt;" style="endArrow=diamondThin;endSize=12;endFill=1;html=1;rounded=0;exitX=1;exitY=0.8;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;" edge="1" parent="1" source="detail-page-class" target="comment-section-class">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="270" y="280" as="sourcePoint" />
            <mxPoint x="300" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- genreApi communicates with GenreController -->
        <mxCell id="rel3" value="&amp;lt;&amp;lt;HTTP/REST&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.3;entryDx=0;entryDy=0;strokeColor=#1a5276;strokeWidth=2;" edge="1" parent="1" source="genre-api-class" target="genre-controller-class">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="490" y="140" as="sourcePoint" />
            <mxPoint x="610" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- GenreController uses Genre Model -->
        <mxCell id="rel4" value="&amp;lt;&amp;lt;queries&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.3;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="genre-controller-class" target="genre-model-class">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="800" y="140" as="sourcePoint" />
            <mxPoint x="850" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- ReviewController uses Review Model -->
        <mxCell id="rel5" value="&amp;lt;&amp;lt;queries&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="review-controller-class" target="review-model-class">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="800" y="350" as="sourcePoint" />
            <mxPoint x="850" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Genre Model maps to Genre Entity -->
        <mxCell id="rel6" value="&amp;lt;&amp;lt;maps to&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="genre-model-class" target="genre-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="900" y="220" as="sourcePoint" />
            <mxPoint x="175" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="895" y="440" />
              <mxPoint x="175" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Review Model maps to Review Entity -->
        <mxCell id="rel7" value="&amp;lt;&amp;lt;maps to&amp;gt;&amp;gt;" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="review-model-class" target="review-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="900" y="350" as="sourcePoint" />
            <mxPoint x="420" y="450" as="targetPoint" />
            <Array as="points">
              <mxPoint x="890" y="430" />
              <mxPoint x="420" y="430" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Review references Genre -->
        <mxCell id="rel8" value="genreId" style="endArrow=none;html=1;rounded=0;exitX=0;exitY=0.3;exitDx=0;exitDy=0;entryX=1;entryY=0.3;entryDx=0;entryDy=0;startArrow=diamondThin;startFill=0;startSize=12;" edge="1" parent="1" source="review-entity" target="genre-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="320" y="550" as="sourcePoint" />
            <mxPoint x="270" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Review references User -->
        <mxCell id="rel9" value="userId" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.3;exitDx=0;exitDy=0;entryX=0;entryY=0.7;entryDx=0;entryDy=0;startArrow=diamondThin;startFill=0;startSize=12;" edge="1" parent="1" source="review-entity" target="user-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="480" y="550" as="sourcePoint" />
            <mxPoint x="510" y="610" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Genre likedBy User -->
        <mxCell id="rel10" value="likedBy *" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=diamondThin;startFill=0;startSize=12;" edge="1" parent="1" source="genre-entity" target="user-entity">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="270" y="600" as="sourcePoint" />
            <mxPoint x="510" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <!-- Caption -->
        <mxCell id="caption" value="&lt;i&gt;Hình 3.xx. Sơ đồ Class Diagram rút gọn – Phân hệ GenresDetailPage&lt;/i&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="400" y="770" width="400" height="20" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
