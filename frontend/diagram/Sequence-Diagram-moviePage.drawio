<mxfile host="app.diagrams.net">
  <diagram name="Sequence Diagram - MoviePage" id="sequence-movie-page">
    <mxGraphModel dx="1434" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1100">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Hình 3.x. Sequence Diagram tải danh sách phim (MoviePage)" style="text;html=1;align=center;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="20" width="600" height="40" as="geometry"/>
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="NMN Cinema Website - Phân hệ 3: Luồng tải phim đang chiếu / sắp chiếu" style="text;html=1;align=center;verticalAlign=middle;rounded=0;fontSize=14;fontStyle=2;fontColor=#666666" parent="1" vertex="1">
          <mxGeometry x="400" y="55" width="600" height="25" as="geometry"/>
        </mxCell>

        <!-- ==================== PARTICIPANTS ==================== -->
        <!-- Guest Actor -->
        <mxCell id="actor-guest" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="120" y="100" width="40" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="actor-guest-label" value="&lt;b&gt;Guest&lt;/b&gt;&lt;br&gt;(Browser)" style="text;html=1;align=center;verticalAlign=top;fontSize=11" parent="1" vertex="1">
          <mxGeometry x="100" y="160" width="80" height="35" as="geometry"/>
        </mxCell>

        <!-- MoviePage Participant -->
        <mxCell id="part-moviepage" value="&lt;b&gt;MoviesPage&lt;/b&gt;&lt;br&gt;(React Component)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;verticalAlign=middle" parent="1" vertex="1">
          <mxGeometry x="280" y="110" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- movieApi Participant -->
        <mxCell id="part-movieapi" value="&lt;b&gt;movieApi&lt;/b&gt;&lt;br&gt;(Axios Client)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;verticalAlign=middle" parent="1" vertex="1">
          <mxGeometry x="480" y="110" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- Backend Participant -->
        <mxCell id="part-backend" value="&lt;b&gt;Backend&lt;/b&gt;&lt;br&gt;(MovieController)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;verticalAlign=middle" parent="1" vertex="1">
          <mxGeometry x="680" y="110" width="120" height="50" as="geometry"/>
        </mxCell>

        <!-- MongoDB Participant -->
        <mxCell id="part-mongodb" value="&lt;b&gt;MongoDB&lt;/b&gt;&lt;br&gt;(movies collection)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;verticalAlign=middle" parent="1" vertex="1">
          <mxGeometry x="890" y="100" width="120" height="60" as="geometry"/>
        </mxCell>

        <!-- ==================== LIFELINES ==================== -->
        <!-- Guest Lifeline -->
        <mxCell id="lifeline-guest" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=1.5;strokeColor=#6c8ebf" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="140" y="200" as="sourcePoint"/>
            <mxPoint x="140" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- MoviePage Lifeline -->
        <mxCell id="lifeline-moviepage" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=1.5;strokeColor=#82b366" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="160" as="sourcePoint"/>
            <mxPoint x="340" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- movieApi Lifeline -->
        <mxCell id="lifeline-movieapi" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=1.5;strokeColor=#d6b656" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="160" as="sourcePoint"/>
            <mxPoint x="540" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- Backend Lifeline -->
        <mxCell id="lifeline-backend" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=1.5;strokeColor=#6c8ebf" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="740" y="160" as="sourcePoint"/>
            <mxPoint x="740" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- MongoDB Lifeline -->
        <mxCell id="lifeline-mongodb" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=1.5;strokeColor=#b85450" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="950" y="160" as="sourcePoint"/>
            <mxPoint x="950" y="1000" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- ==================== ACTIVATION BOXES ==================== -->
        <!-- MoviePage Activation -->
        <mxCell id="activation-moviepage" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="332" y="220" width="16" height="700" as="geometry"/>
        </mxCell>

        <!-- movieApi Activation -->
        <mxCell id="activation-movieapi" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="532" y="290" width="16" height="350" as="geometry"/>
        </mxCell>

        <!-- Backend Activation -->
        <mxCell id="activation-backend" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="732" y="360" width="16" height="200" as="geometry"/>
        </mxCell>

        <!-- MongoDB Activation -->
        <mxCell id="activation-mongodb" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="942" y="430" width="16" height="60" as="geometry"/>
        </mxCell>

        <!-- ==================== MESSAGES ==================== -->
        <!-- MSG 1: Guest -> MoviePage: Navigate to /phim-dang-chieu -->
        <mxCell id="msg1" value="1. Navigate to /phim-dang-chieu" style="endArrow=classic;html=1;strokeWidth=2;fillColor=#d5e8d4;strokeColor=#2e7d32" parent="1" edge="1">
          <mxGeometry x="0.1" y="10" relative="1" as="geometry">
            <mxPoint x="140" y="230" as="sourcePoint"/>
            <mxPoint x="332" y="230" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 2: MoviePage self: setState(loading=true) -->
        <mxCell id="msg2" value="2. setState(loading=true)&lt;br&gt;Show Loading Screen" style="endArrow=classic;html=1;strokeWidth=2;curved=1;fillColor=#d5e8d4;strokeColor=#388e3c" parent="1" edge="1">
          <mxGeometry x="0.3" y="15" relative="1" as="geometry">
            <mxPoint x="348" y="265" as="sourcePoint"/>
            <mxPoint x="348" y="285" as="targetPoint"/>
            <mxPoint as="offset"/>
            <Array as="points">
              <mxPoint x="390" y="265"/>
              <mxPoint x="390" y="285"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- MSG 3: MoviePage -> movieApi: getNowShowingMoviesAPI(50) -->
        <mxCell id="msg3" value="3. getNowShowingMoviesAPI(50)" style="endArrow=classic;html=1;strokeWidth=2;fillColor=#fff2cc;strokeColor=#f57c00" parent="1" edge="1">
          <mxGeometry x="0.1" y="10" relative="1" as="geometry">
            <mxPoint x="348" y="310" as="sourcePoint"/>
            <mxPoint x="532" y="310" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 4: movieApi -> Backend: GET /api/v1/movies?status=NOW&limit=50 -->
        <mxCell id="msg4" value="4. GET /api/v1/movies?status=NOW&amp;limit=50" style="endArrow=classic;html=1;strokeWidth=2;fillColor=#dae8fc;strokeColor=#1976d2" parent="1" edge="1">
          <mxGeometry x="0.1" y="10" relative="1" as="geometry">
            <mxPoint x="548" y="380" as="sourcePoint"/>
            <mxPoint x="732" y="380" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 5: Backend -> MongoDB: find({status:"NOW"}).populate().limit(50) -->
        <mxCell id="msg5" value="5. find({status:&quot;NOW&quot;})&lt;br&gt;.populate('genres','director','actors')&lt;br&gt;.limit(50).sort({releaseDate:-1})" style="endArrow=classic;html=1;strokeWidth=2;fillColor=#f8cecc;strokeColor=#d32f2f" parent="1" edge="1">
          <mxGeometry x="0.1" y="10" relative="1" as="geometry">
            <mxPoint x="748" y="450" as="sourcePoint"/>
            <mxPoint x="942" y="450" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 6: MongoDB -> Backend: movies[] -->
        <mxCell id="msg6" value="6. movies[] (documents)" style="endArrow=classic;html=1;strokeWidth=2;dashed=1;fillColor=#f8cecc;strokeColor=#d32f2f" parent="1" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint x="942" y="490" as="sourcePoint"/>
            <mxPoint x="748" y="490" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 7: Backend -> movieApi: 200 OK {status, data: {movies}} -->
        <mxCell id="msg7" value="7. 200 OK&lt;br&gt;{status: 'success', results, total,&lt;br&gt;data: {movies: [...]}}" style="endArrow=classic;html=1;strokeWidth=2;dashed=1;fillColor=#dae8fc;strokeColor=#1976d2" parent="1" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint x="732" y="560" as="sourcePoint"/>
            <mxPoint x="548" y="560" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 8: movieApi -> MoviePage: response.data -->
        <mxCell id="msg8" value="8. response.data&lt;br&gt;{status, data: {movies}}" style="endArrow=classic;html=1;strokeWidth=2;dashed=1;fillColor=#fff2cc;strokeColor=#f57c00" parent="1" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint x="532" y="640" as="sourcePoint"/>
            <mxPoint x="348" y="640" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MSG 9: MoviePage self: setState(movies, loading=false) -->
        <mxCell id="msg9" value="9. setState({movies: [...],&lt;br&gt;loading: false})" style="endArrow=classic;html=1;strokeWidth=2;curved=1;fillColor=#d5e8d4;strokeColor=#388e3c" parent="1" edge="1">
          <mxGeometry x="0.3" y="15" relative="1" as="geometry">
            <mxPoint x="348" y="700" as="sourcePoint"/>
            <mxPoint x="348" y="720" as="targetPoint"/>
            <mxPoint as="offset"/>
            <Array as="points">
              <mxPoint x="390" y="700"/>
              <mxPoint x="390" y="720"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- MSG 10: MoviePage self: Render MovieCard Grid -->
        <mxCell id="msg10" value="10. renderMovieGrid()&lt;br&gt;Map movies → MovieCard" style="endArrow=classic;html=1;strokeWidth=2;curved=1;fillColor=#d5e8d4;strokeColor=#388e3c" parent="1" edge="1">
          <mxGeometry x="0.3" y="15" relative="1" as="geometry">
            <mxPoint x="348" y="760" as="sourcePoint"/>
            <mxPoint x="348" y="780" as="targetPoint"/>
            <mxPoint as="offset"/>
            <Array as="points">
              <mxPoint x="390" y="760"/>
              <mxPoint x="390" y="780"/>
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- MSG 11: MoviePage -> Guest: Display movie cards -->
        <mxCell id="msg11" value="11. Hiển thị danh sách phim&lt;br&gt;(MovieCard với poster, rating, ageRating)" style="endArrow=classic;html=1;strokeWidth=2;dashed=1;fillColor=#d5e8d4;strokeColor=#2e7d32" parent="1" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint x="332" y="840" as="sourcePoint"/>
            <mxPoint x="140" y="840" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- ==================== ALT FRAGMENT: USER ACTIONS ==================== -->
        <!-- Alt Box -->
        <mxCell id="alt-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#9c27b0;strokeWidth=2;dashed=1" parent="1" vertex="1">
          <mxGeometry x="100" y="870" width="890" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="alt-label" value="&lt;b&gt;alt&lt;/b&gt; [User chọn hành động]" style="text;html=1;align=left;verticalAlign=middle;fontSize=11;fillColor=#e1bee7;strokeColor=none;fontStyle=0" parent="1" vertex="1">
          <mxGeometry x="100" y="870" width="160" height="20" as="geometry"/>
        </mxCell>

        <!-- Alt Option 1: Chuyển tab -->
        <mxCell id="alt-opt1" value="[Tab] Chuyển tab NOW ↔ COMING → skeleton → Call API mới" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;fillColor=#bbdefb;strokeColor=none;rounded=1" parent="1" vertex="1">
          <mxGeometry x="110" y="895" width="380" height="20" as="geometry"/>
        </mxCell>

        <!-- Alt Option 2: Xem trailer -->
        <mxCell id="alt-opt2" value="[Trailer] Click trailer → Mở TrailerModal (YouTube Player)" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;fillColor=#ffe0b2;strokeColor=none;rounded=1" parent="1" vertex="1">
          <mxGeometry x="110" y="920" width="380" height="20" as="geometry"/>
        </mxCell>

        <!-- Alt Option 3: Đặt vé -->
        <mxCell id="alt-opt3" value="[Mua vé] Click card/button → Navigate /dat-ve/{movieId}" style="text;html=1;align=left;verticalAlign=middle;fontSize=10;fontStyle=2;fillColor=#c8e6c9;strokeColor=none;rounded=1" parent="1" vertex="1">
          <mxGeometry x="110" y="945" width="380" height="20" as="geometry"/>
        </mxCell>

        <!-- Arrow in alt: tab switch -->
        <mxCell id="alt-arrow1" value="handleTabChange()" style="endArrow=classic;html=1;strokeWidth=1.5;strokeColor=#1976d2" parent="1" edge="1">
          <mxGeometry x="0.1" y="5" relative="1" as="geometry">
            <mxPoint x="140" y="905" as="sourcePoint"/>
            <mxPoint x="332" y="905" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Arrow in alt: trailer -->
        <mxCell id="alt-arrow2" value="handleOpenTrailer(movie)" style="endArrow=classic;html=1;strokeWidth=1.5;strokeColor=#ff9800" parent="1" edge="1">
          <mxGeometry x="0.1" y="5" relative="1" as="geometry">
            <mxPoint x="140" y="930" as="sourcePoint"/>
            <mxPoint x="332" y="930" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Arrow in alt: booking -->
        <mxCell id="alt-arrow3" value="navigate('/dat-ve/' + movieId)" style="endArrow=classic;html=1;strokeWidth=1.5;strokeColor=#4caf50" parent="1" edge="1">
          <mxGeometry x="0.1" y="5" relative="1" as="geometry">
            <mxPoint x="140" y="955" as="sourcePoint"/>
            <mxPoint x="332" y="955" as="targetPoint"/>
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1080" y="100" width="280" height="340" as="geometry"/>
        </mxCell>

        <mxCell id="legend-title" value="&lt;b&gt;Chú thích (Legend)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="1080" y="105" width="280" height="30" as="geometry"/>
        </mxCell>

        <!-- Legend: Participants -->
        <mxCell id="legend-part-title" value="&lt;b&gt;Participants:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=11" parent="1" vertex="1">
          <mxGeometry x="1090" y="135" width="260" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-guest" value="" style="shape=umlActor;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="160" width="20" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legend-guest-text" value="Guest (Browser User)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1130" y="165" width="220" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-comp" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="195" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend-comp-text" value="React Component" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1140" y="195" width="210" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-api" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="220" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend-api-text" value="API Client (Axios)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1140" y="220" width="210" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-be" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="245" width="30" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="legend-be-text" value="Backend Controller" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1140" y="245" width="210" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-db" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=5;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="270" width="30" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="legend-db-text" value="Database (MongoDB)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1140" y="275" width="210" height="20" as="geometry"/>
        </mxCell>

        <!-- Legend: Messages -->
        <mxCell id="legend-msg-title" value="&lt;b&gt;Messages:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=11" parent="1" vertex="1">
          <mxGeometry x="1090" y="305" width="260" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-sync" value="" style="endArrow=classic;html=1;strokeWidth=2" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1100" y="335" as="sourcePoint"/>
            <mxPoint x="1160" y="335" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-sync-text" value="Synchronous call (Request)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1170" y="325" width="180" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-async" value="" style="endArrow=classic;html=1;strokeWidth=2;dashed=1" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1100" y="360" as="sourcePoint"/>
            <mxPoint x="1160" y="360" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-async-text" value="Return message (Response)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1170" y="350" width="180" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e0e0e0;strokeColor=#9e9e9e;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1100" y="380" width="15" height="30" as="geometry"/>
        </mxCell>
        <mxCell id="legend-activation-text" value="Activation bar (Đang xử lý)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1125" y="385" width="225" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-alt" value="alt" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#9c27b0;strokeWidth=1.5;dashed=1;fontSize=9;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="1100" y="415" width="30" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="legend-alt-text" value="Alternative fragment (Rẽ nhánh)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="1140" y="410" width="210" height="20" as="geometry"/>
        </mxCell>

        <!-- ==================== API DETAIL BOX ==================== -->
        <mxCell id="api-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#90caf9;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="1080" y="460" width="280" height="180" as="geometry"/>
        </mxCell>

        <mxCell id="api-title" value="&lt;b&gt;API Endpoint Chi tiết&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;" parent="1" vertex="1">
          <mxGeometry x="1080" y="465" width="280" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="api-content" value="&lt;table style='font-size:10px;line-height:1.5'&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Method:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;GET&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;URL:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;/api/v1/movies&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Query:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;?status=NOW&amp;amp;limit=50&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=2&gt;&lt;hr&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Response:&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan=2&gt;&lt;code style='font-size:9px'&gt;{&lt;br&gt;  status: 'success',&lt;br&gt;  results: 4,&lt;br&gt;  total: 4,&lt;br&gt;  data: { movies: [...] }&lt;br&gt;}&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;spacingLeft=10;spacingTop=3;" parent="1" vertex="1">
          <mxGeometry x="1090" y="490" width="260" height="145" as="geometry"/>
        </mxCell>

        <!-- ==================== NOTES ==================== -->
        <!-- Note 1: Loading Screen -->
        <mxCell id="note1" value="&lt;i&gt;Loading Screen:&lt;br&gt;Logo + Spinner +&lt;br&gt;&quot;Chờ tôi xíu nhé&quot;&lt;/i&gt;" style="shape=note;strokeColor=#d6b656;fillColor=#fff9c4;size=10;fontSize=9;whiteSpace=wrap;html=1;align=center" parent="1" vertex="1">
          <mxGeometry x="410" y="240" width="100" height="55" as="geometry"/>
        </mxCell>

        <!-- Note 2: MongoDB Query -->
        <mxCell id="note2" value="&lt;i&gt;Mongoose populate:&lt;br&gt;genres, director, actors&lt;/i&gt;" style="shape=note;strokeColor=#b85450;fillColor=#ffebee;size=10;fontSize=9;whiteSpace=wrap;html=1;align=center" parent="1" vertex="1">
          <mxGeometry x="970" y="440" width="100" height="45" as="geometry"/>
        </mxCell>

        <!-- Note 3: MovieCard props -->
        <mxCell id="note3" value="&lt;i&gt;MovieCard props:&lt;br&gt;movie, onTrailerClick&lt;/i&gt;" style="shape=note;strokeColor=#82b366;fillColor=#e8f5e9;size=10;fontSize=9;whiteSpace=wrap;html=1;align=center" parent="1" vertex="1">
          <mxGeometry x="410" y="755" width="100" height="45" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
