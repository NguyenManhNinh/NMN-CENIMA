<mxfile host="app.diagrams.net">
  <diagram name="Class Diagram - MoviePage" id="class-movie-page">
    <mxGraphModel dx="1434" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Hình 3.x. Class Diagram rút gọn phân hệ MoviePage" style="text;html=1;align=center;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="20" width="600" height="40" as="geometry"/>
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="NMN Cinema Website - Phân hệ 3: Các lớp cốt lõi phục vụ trang phim đang chiếu / sắp chiếu" style="text;html=1;align=center;verticalAlign=middle;rounded=0;fontSize=14;fontStyle=2;fontColor=#666666" parent="1" vertex="1">
          <mxGeometry x="350" y="55" width="700" height="25" as="geometry"/>
        </mxCell>

        <!-- Layer Labels -->
        <mxCell id="layer-frontend" value="&lt;b style='font-size:14px'&gt;Frontend Layer&lt;/b&gt;&lt;br&gt;(React Components &amp; API Client)" style="text;html=1;align=center;verticalAlign=middle;rounded=1;fillColor=#e3f2fd;strokeColor=#90caf9;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="100" y="100" width="600" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="layer-backend" value="&lt;b style='font-size:14px'&gt;Backend Layer&lt;/b&gt;&lt;br&gt;(Express Controllers &amp; Mongoose Models)" style="text;html=1;align=center;verticalAlign=middle;rounded=1;fillColor=#fff3e0;strokeColor=#ffcc80;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="780" y="100" width="500" height="40" as="geometry"/>
        </mxCell>

        <!-- ==================== FRONTEND CLASSES ==================== -->

        <!-- MoviePageComponent Class -->
        <mxCell id="class-moviepage" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«React Component»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;MoviesPage&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;States:&lt;/b&gt;&lt;br&gt;- activeTab: number&lt;br&gt;- movies: Movie[]&lt;br&gt;- loading: boolean&lt;br&gt;- tabLoading: boolean&lt;br&gt;- trailerOpen: boolean&lt;br&gt;- selectedMovie: Movie | null&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getInitialTab(): number&lt;br&gt;+ loadMovies(isFirstLoad): Promise&amp;lt;void&amp;gt;&lt;br&gt;+ handleTabChange(event, newValue): void&lt;br&gt;+ handleOpenTrailer(movie): void&lt;br&gt;+ handleCloseTrailer(): void&lt;br&gt;+ renderSkeletons(): JSX.Element&lt;br&gt;+ renderMovieGrid(): JSX.Element&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="100" y="170" width="260" height="310" as="geometry"/>
        </mxCell>

        <!-- MovieCard Component -->
        <mxCell id="class-moviecard" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«React Component»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;MovieCard&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Props:&lt;/b&gt;&lt;br&gt;+ movie: Movie&lt;br&gt;+ onTrailerClick: (movie) =&amp;gt; void&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;States:&lt;/b&gt;&lt;br&gt;- isHovered: boolean&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ handleBuyTicket(e): void&lt;br&gt;+ handleTrailer(e): void&lt;br&gt;+ handleCardClick(): void&lt;br&gt;+ getAgeRatingColor(rating): string&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="100" y="520" width="260" height="240" as="geometry"/>
        </mxCell>

        <!-- TrailerModal Component -->
        <mxCell id="class-trailermodal" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«React Component»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;TrailerModal&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Props:&lt;/b&gt;&lt;br&gt;+ open: boolean&lt;br&gt;+ onClose: () =&amp;gt; void&lt;br&gt;+ trailerUrl: string&lt;br&gt;+ movieTitle: string&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getYouTubeId(url): string&lt;br&gt;+ handleClose(): void&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="100" y="800" width="260" height="170" as="geometry"/>
        </mxCell>

        <!-- MovieApi Class -->
        <mxCell id="class-movieapi" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«API Module»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;movieApi&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Config:&lt;/b&gt;&lt;br&gt;- baseURL: string&lt;br&gt;- withCredentials: true&lt;br&gt;- axios interceptors&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getAllMoviesAPI(params): Promise&lt;br&gt;+ getNowShowingMoviesAPI(limit): Promise&lt;br&gt;+ getComingSoonMoviesAPI(limit): Promise&lt;br&gt;+ getMovieAPI(id): Promise&lt;br&gt;+ getMoviesByGenreAPI(genreId, limit): Promise&lt;br&gt;+ rateMovieAPI(movieId, rating): Promise&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="440" y="170" width="260" height="260" as="geometry"/>
        </mxCell>

        <!-- ==================== BACKEND CLASSES ==================== -->

        <!-- MovieController Class -->
        <mxCell id="class-moviecontroller" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«Express Controller»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;MovieController&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Dependencies:&lt;/b&gt;&lt;br&gt;- Movie (mongoose model)&lt;br&gt;- catchAsync, AppError&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Methods:&lt;/b&gt;&lt;br&gt;+ getAllMovies(req, res, next)&lt;br&gt;+ getMovie(req, res, next)&lt;br&gt;+ createMovie(req, res, next)&lt;br&gt;+ updateMovie(req, res, next)&lt;br&gt;+ deleteMovie(req, res, next)&lt;br&gt;+ rateMovie(req, res, next)&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="780" y="170" width="240" height="250" as="geometry"/>
        </mxCell>

        <!-- Movie Model Class -->
        <mxCell id="class-movie" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«Mongoose Model»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;Movie&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Attributes:&lt;/b&gt;&lt;br&gt;+ _id: ObjectId&lt;br&gt;+ title: String (required, unique)&lt;br&gt;+ slug: String&lt;br&gt;+ description: String (required)&lt;br&gt;+ director: ObjectId → Person&lt;br&gt;+ actors: ObjectId[] → Person&lt;br&gt;+ genres: ObjectId[] → Genre&lt;br&gt;+ duration: Number (required)&lt;br&gt;+ ageRating: enum ['P','C13','C16','C18']&lt;br&gt;+ posterUrl: String (required)&lt;br&gt;+ bannerUrl: String&lt;br&gt;+ trailerUrl: String (required)&lt;br&gt;+ releaseDate: Date (required)&lt;br&gt;+ endDate: Date&lt;br&gt;+ status: enum ['NOW','COMING','STOP']&lt;br&gt;+ rating: Number (0-10)&lt;br&gt;+ ratingCount: Number&lt;br&gt;+ viewCount: Number&lt;br&gt;+ studio: String&lt;br&gt;+ country: String&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;&lt;b&gt;Middleware:&lt;/b&gt;&lt;br&gt;+ pre('save'): generateSlug()&lt;br&gt;+ pre('find'): autoPopulate()&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2.5;rounded=1" parent="1" vertex="1">
          <mxGeometry x="1080" y="170" width="240" height="450" as="geometry"/>
        </mxCell>

        <!-- Genre Model (Reference) -->
        <mxCell id="class-genre" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«Mongoose Model»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;Genre&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;+ _id: ObjectId&lt;br&gt;+ name: String&lt;br&gt;+ slug: String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=2;rounded=1" parent="1" vertex="1">
          <mxGeometry x="1080" y="660" width="150" height="100" as="geometry"/>
        </mxCell>

        <!-- Person Model (Reference) -->
        <mxCell id="class-person" value="&lt;p style='margin:0px;margin-top:6px;text-align:center;'&gt;&lt;b&gt;«Mongoose Model»&lt;/b&gt;&lt;br&gt;&lt;b style='font-size:14px'&gt;Person&lt;/b&gt;&lt;/p&gt;&lt;hr size='1'/&gt;&lt;p style='margin:0px;margin-left:6px;text-align:left;'&gt;+ _id: ObjectId&lt;br&gt;+ name: String&lt;br&gt;+ photoUrl: String&lt;br&gt;+ slug: String&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;strokeWidth=2;rounded=1" parent="1" vertex="1">
          <mxGeometry x="1250" y="660" width="150" height="110" as="geometry"/>
        </mxCell>

        <!-- ==================== RELATIONSHIPS ==================== -->

        <!-- MoviesPage uses MovieApi -->
        <mxCell id="rel-moviepage-api" value="«uses»" style="endArrow=open;endFill=0;dashed=1;html=1;strokeWidth=2;fontSize=11;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0" parent="1" source="class-moviepage" target="class-movieapi" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MoviesPage contains MovieCard (Composition) -->
        <mxCell id="rel-moviepage-card" value="contains&lt;br&gt;(1..n)" style="endArrow=diamondThin;endFill=1;html=1;strokeWidth=2;fontSize=11;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0" parent="1" source="class-moviepage" target="class-moviecard" edge="1">
          <mxGeometry x="-0.1" y="10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MoviesPage uses TrailerModal -->
        <mxCell id="rel-moviepage-trailer" value="«uses»" style="endArrow=open;endFill=0;dashed=1;html=1;strokeWidth=2;fontSize=11" parent="1" source="class-moviecard" target="class-trailermodal" edge="1">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MovieApi calls MovieController (HTTP) -->
        <mxCell id="rel-api-controller" value="HTTP/REST" style="endArrow=classic;html=1;strokeWidth=2;fontSize=11;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#1976d2" parent="1" source="class-movieapi" target="class-moviecontroller" edge="1">
          <mxGeometry x="-0.1" y="10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- MovieController manages Movie -->
        <mxCell id="rel-controller-movie" value="manages" style="endArrow=open;endFill=0;html=1;strokeWidth=2;fontSize=11;exitX=1;exitY=0.3;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0" parent="1" source="class-moviecontroller" target="class-movie" edge="1">
          <mxGeometry x="-0.1" y="-10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Movie references Genre -->
        <mxCell id="rel-movie-genre" value="genres&lt;br&gt;(0..n)" style="endArrow=open;endFill=0;html=1;strokeWidth=2;fontSize=11;exitX=0.3;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0" parent="1" source="class-movie" target="class-genre" edge="1">
          <mxGeometry x="-0.2" y="-10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Movie references Person (director/actors) -->
        <mxCell id="rel-movie-person" value="director/actors&lt;br&gt;(1..n)" style="endArrow=open;endFill=0;html=1;strokeWidth=2;fontSize=11;exitX=0.7;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0" parent="1" source="class-movie" target="class-person" edge="1">
          <mxGeometry x="-0.2" y="10" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- ==================== LEGEND ==================== -->
        <mxCell id="legend-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="440" y="500" width="320" height="330" as="geometry"/>
        </mxCell>

        <mxCell id="legend-title" value="&lt;b&gt;Chú thích (Legend)&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="440" y="505" width="320" height="25" as="geometry"/>
        </mxCell>

        <!-- Legend: Stereotypes -->
        <mxCell id="legend-stereo-title" value="&lt;b&gt;Stereotypes:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=11" parent="1" vertex="1">
          <mxGeometry x="450" y="530" width="300" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-react" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="460" y="555" width="25" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="legend-react-text" value="«React Component» - Frontend UI" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="495" y="553" width="255" height="22" as="geometry"/>
        </mxCell>

        <mxCell id="legend-child" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="460" y="580" width="25" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="legend-child-text" value="«React Component» - Child component" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="495" y="578" width="255" height="22" as="geometry"/>
        </mxCell>

        <mxCell id="legend-api" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="460" y="605" width="25" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="legend-api-text" value="«API Module» - Axios HTTP Client" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="495" y="603" width="255" height="22" as="geometry"/>
        </mxCell>

        <mxCell id="legend-ctrl" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="460" y="630" width="25" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="legend-ctrl-text" value="«Express Controller» - Backend logic" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="495" y="628" width="255" height="22" as="geometry"/>
        </mxCell>

        <mxCell id="legend-model" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2" parent="1" vertex="1">
          <mxGeometry x="460" y="655" width="25" height="18" as="geometry"/>
        </mxCell>
        <mxCell id="legend-model-text" value="«Mongoose Model» - DB Schema" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="495" y="653" width="255" height="22" as="geometry"/>
        </mxCell>

        <!-- Legend: Relationships -->
        <mxCell id="legend-rel-title" value="&lt;b&gt;Relationships:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=11" parent="1" vertex="1">
          <mxGeometry x="450" y="685" width="300" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-uses" value="" style="endArrow=open;endFill=0;dashed=1;html=1;strokeWidth=2" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="460" y="720" as="sourcePoint"/>
            <mxPoint x="520" y="720" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-uses-text" value="«uses» Dependency (Phụ thuộc)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="530" y="710" width="220" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-comp" value="" style="endArrow=diamondThin;endFill=1;html=1;strokeWidth=2" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="460" y="745" as="sourcePoint"/>
            <mxPoint x="520" y="745" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-comp-text" value="Composition (Bao gồm)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="530" y="735" width="220" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-assoc" value="" style="endArrow=open;endFill=0;html=1;strokeWidth=2" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="460" y="770" as="sourcePoint"/>
            <mxPoint x="520" y="770" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-assoc-text" value="Association (Liên kết)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="530" y="760" width="220" height="20" as="geometry"/>
        </mxCell>

        <mxCell id="legend-http" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#1976d2" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="460" y="795" as="sourcePoint"/>
            <mxPoint x="520" y="795" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-http-text" value="HTTP/REST (API call)" style="text;html=1;strokeColor=none;fillColor=none;align=left;fontSize=10" parent="1" vertex="1">
          <mxGeometry x="530" y="785" width="220" height="20" as="geometry"/>
        </mxCell>

        <!-- ==================== STATUS ENUM BOX ==================== -->
        <mxCell id="enum-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e8f5e9;strokeColor=#a5d6a7;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="780" y="460" width="240" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="enum-title" value="&lt;b&gt;Movie Status Enum&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="780" y="465" width="240" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="enum-content" value="&lt;table style='font-size:11px;'&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;NOW&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Phim đang chiếu&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;COMING&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Phim sắp chiếu&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;b&gt;STOP&lt;/b&gt;&lt;/td&gt;&lt;td&gt;Ngưng chiếu&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;hr&gt;&lt;b&gt;Age Rating:&lt;/b&gt; P, C13, C16, C18" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=11;spacingLeft=10;spacingTop=3" parent="1" vertex="1">
          <mxGeometry x="790" y="490" width="220" height="85" as="geometry"/>
        </mxCell>

        <!-- ==================== API ENDPOINTS BOX ==================== -->
        <mxCell id="api-endpoints-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#90caf9;strokeWidth=1.5" parent="1" vertex="1">
          <mxGeometry x="780" y="600" width="240" height="170" as="geometry"/>
        </mxCell>

        <mxCell id="api-endpoints-title" value="&lt;b&gt;API Endpoints&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=12" parent="1" vertex="1">
          <mxGeometry x="780" y="605" width="240" height="25" as="geometry"/>
        </mxCell>

        <mxCell id="api-endpoints-content" value="&lt;code style='font-size:10px'&gt;GET  /api/v1/movies&lt;br&gt;     ?status=NOW|COMING&lt;br&gt;     &amp;amp;limit=50&amp;amp;page=1&lt;br&gt;&lt;br&gt;GET  /api/v1/movies/:id&lt;br&gt;&lt;br&gt;POST /api/v1/movies/:id/rate&lt;br&gt;     Body: { rating: 1-10 }&lt;/code&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontSize=11;spacingLeft=10;spacingTop=5" parent="1" vertex="1">
          <mxGeometry x="790" y="630" width="220" height="135" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
