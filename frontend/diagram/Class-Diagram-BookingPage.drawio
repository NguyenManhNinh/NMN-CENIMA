<mxfile host="app.diagrams.net">
  <diagram name="Class Diagram - BookingPage" id="class-booking-page-fix-v4">
    <mxGraphModel dx="1400" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Hình 3.x. Class Diagram rút gọn phân hệ BookingPage" style="text;html=1;align=center;verticalAlign=middle;rounded=0;fontSize=18;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="250" y="20" width="700" height="40" as="geometry"/>
        </mxCell>

        <!-- ==================== CLASS MOVIE ==================== -->
        <!-- 1. Header -->
        <mxCell id="movie-head" value="Movie" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="100" y="100" width="220" height="30" as="geometry"/>
        </mxCell>

        <!-- 2. Attributes -->
        <mxCell id="movie-attr" value="+ ObjectId _id&#xa;+ String title&#xa;+ String description&#xa;+ String posterUrl&#xa;+ String bannerUrl&#xa;+ String trailerUrl&#xa;+ Number duration&#xa;+ String ageRating&#xa;+ Date releaseDate&#xa;+ Number rating&#xa;+ Number ratingCount&#xa;+ String country&#xa;+ String studio&#xa;+ ObjectId director&#xa;+ ObjectId[] actors&#xa;+ ObjectId[] genres" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="100" y="130" width="220" height="260" as="geometry"/>
        </mxCell>

        <!-- 3. Methods -->
        <mxCell id="movie-method" value="+ getMovie(id)&#xa;+ rateMovie(id, rating)&#xa;+ getNowShowing()&#xa;+ getComingSoon()" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#fff2cc;strokeColor=#d6b656;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="100" y="390" width="220" height="70" as="geometry"/>
        </mxCell>

        <!-- ==================== CLASS SHOWTIME ==================== -->
        <!-- 1. Header -->
        <mxCell id="showtime-head" value="Showtime" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="450" y="180" width="220" height="30" as="geometry"/>
        </mxCell>

        <!-- 2. Attributes -->
        <mxCell id="showtime-attr" value="+ ObjectId _id&#xa;+ ObjectId movieId&#xa;+ ObjectId cinemaId&#xa;+ ObjectId roomId&#xa;+ Date startAt&#xa;+ Date endAt&#xa;+ Number basePrice&#xa;+ String format&#xa;+ String language&#xa;+ String status" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="450" y="210" width="220" height="170" as="geometry"/>
        </mxCell>

        <!-- 3. Methods -->
        <mxCell id="showtime-method" value="+ getAllShowtimes(filters)&#xa;+ getShowtimeById(id)" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="450" y="380" width="220" height="50" as="geometry"/>
        </mxCell>

        <!-- ==================== CLASS CINEMA ==================== -->
        <!-- 1. Header -->
        <mxCell id="cinema-head" value="Cinema" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="800" y="200" width="200" height="30" as="geometry"/>
        </mxCell>

        <!-- 2. Attributes -->
        <mxCell id="cinema-attr" value="+ ObjectId _id&#xa;+ String name&#xa;+ String address&#xa;+ String city&#xa;+ String phone&#xa;+ String status" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="800" y="230" width="200" height="110" as="geometry"/>
        </mxCell>

        <!-- 3. Methods -->
        <mxCell id="cinema-method" value="+ getAllCinemas()&#xa;+ getCities()&#xa;+ getCinema(id)" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;spacingLeft=5;fontSize=12;fillColor=#e1d5e7;strokeColor=#9673a6;overflow=hidden;" parent="1" vertex="1">
          <mxGeometry x="800" y="340" width="200" height="60" as="geometry"/>
        </mxCell>

        <!-- ==================== RELATIONSHIPS ==================== -->
        <!-- Movie - Showtime -->
        <mxCell id="rel1" value="" style="endArrow=none;html=1;strokeWidth=2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="movie-attr" target="showtime-attr" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="card1" value="1" style="edgeLabel;html=1;align=center;verticalAlign=bottom;resizable=0;points=[];" parent="rel1" vertex="1" connectable="0">
          <mxGeometry x="-0.85" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="card2" value="0..*" style="edgeLabel;html=1;align=center;verticalAlign=bottom;resizable=0;points=[];" parent="rel1" vertex="1" connectable="0">
          <mxGeometry x="0.85" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

        <!-- Cinema - Showtime -->
        <mxCell id="rel2" value="" style="endArrow=none;html=1;strokeWidth=2;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="cinema-attr" target="showtime-attr" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="card3" value="1" style="edgeLabel;html=1;align=left;verticalAlign=bottom;resizable=0;points=[];" parent="rel2" vertex="1" connectable="0">
          <mxGeometry x="-0.9" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="card4" value="0..*" style="edgeLabel;html=1;align=right;verticalAlign=bottom;resizable=0;points=[];" parent="rel2" vertex="1" connectable="0">
          <mxGeometry x="0.9" relative="1" as="geometry">
            <mxPoint as="offset"/>
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>